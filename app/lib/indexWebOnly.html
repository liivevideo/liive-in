<!DOCTYPE html>
<html>
    <head>
        <title>react-native-webrtc server</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    </head>
    <body>
        <div id="textRoom" style="display: none;">
            <div id="textRoomContent">
                <h3>Text Room</h3>
            </div>
            <input id="textRoomInput" >
            <button onclick="textRoomPress();">Send</button>
        </div>
        <video id="selfView" autoplay></video>
        <div id="remoteViewContainer"></div>
        <div id="roomIDContainer">
            <input id="roomID" value="abc">
            <button onclick="press();">Join/Create room</button>
        </div>
    </body>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script src="https://liive.io/lib/Handshake.js"></script>
    <script src="https://liive.io/lib/RTCChannel.js"></script>
    <script src="https://liive.io/lib/Room.js"></script>
    <script src="https://liive.io/lib/App.js"></script>

    <script type="text/javascript">
        function press() {
            var roomID = document.getElementById('roomID').value;
            if (roomID == "") {
                alert('Please enter room ID');
            } else {
                var roomIDContainer = document.getElementById('roomIDContainer');
                roomIDContainer.parentElement.removeChild(roomIDContainer);
                window.room.join(roomID) // todo reference to room through window?
            }
        }
        function textRoomPress() {
            var text = document.getElementById('textRoomInput').value;
            if (text == "") {
                alert('Enter something');
            } else {
                document.getElementById('textRoomInput').value = '';
                var content = document.getElementById('textRoomContent');
                content.innerHTML = content.innerHTML + '<p>' + 'Me' + ': ' + text + '</p>';
                window.room.say(text) // todo reference to room through window?
            }
        }
    </script>

</html>
